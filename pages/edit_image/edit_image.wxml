<view class="container">
  <button style="width:25vw" class="btnUpload" bindtap="chooseImage">
    <image class="btnUploadImg" src='./image/upload.png' alt="Upload Icon"></image>
    <view>上传</view>
  </button>
  <button style="width:25vw" class="btnSaved" bindtap="saveImage" disabled="{{!imageSrc}}">
    <image class="btnSaveImg" src='./image/save.png' alt="Upload Icon"></image>
    <view>保存</view>
  </button>

  <image src="{{imageSrc || './image/cam.webp'}}" mode="aspectFit" catch:tap="chooseImage" class="preview-image {{selectedStyle}}"></image>

  <scroll-view hidden="{{isHidden}}" class="style-select"  scroll-x >
  <view class="select-item">
    <image data-type="graywordmeme" data-typecn="黑白加字" data-index="0" bind:tap="style_select" class="selectpng {{selectedStyleIndex === 0 ? 'selected' : ''}}" src='./image/graywordmeme.png' alt="Upload Icon"></image>
    <text></text>
  </view>
  <view class="select-item">
    <image data-type="always" data-typecn="要我一直这样吗" data-index="1" bind:tap="style_select" class="selectpng {{selectedStyleIndex === 1 ? 'selected' : ''}}" src='./image/always.png' alt="Upload Icon"></image>
  </view>
  <view class="select-item">
    <image data-type="fightsunuo" data-typecn="我打宿傩？" data-index="2" bind:tap="style_select" class="selectpng {{selectedStyleIndex === 2 ? 'selected' : ''}}" src='./image/fightsunuo.jpg' alt="Upload Icon"></image>
  </view>
  <view class="select-item">
    <image data-type="cannot" data-typecn="加载不出来" data-index="3" bind:tap="style_select" class="selectpng {{selectedStyleIndex === 3 ? 'selected' : ''}}" src='./image/cantload.png' alt="Upload Icon"></image> 
  </view>
  <view class="select-item">
    <image data-type="animegen_gqj" data-typecn="宫崎骏风格" data-index="4" bind:tap="style_select" class="selectpng {{selectedStyleIndex === 4 ? 'selected' : ''}}" src='./image/animegen_gqj.jpg' alt="Upload Icon"></image>
  </view>
  <view class="select-item">
    <image data-type="animegen_xhc" data-typecn="新海诚风格" data-index="5" bind:tap="style_select" class="selectpng {{selectedStyleIndex === 5 ? 'selected' : ''}}" src='./image/animegen_xhc.jpg' alt="Upload Icon"></image>
  </view>
  <view class="select-item">
    <image data-type="animegen_rbf" data-typecn="日本画风格" data-index="6" bind:tap="style_select" class="selectpng {{selectedStyleIndex === 6 ? 'selected' : ''}}" src='./image/animegen_rbf.jpg' alt="Upload Icon"></image>
  </view>
  <view class="select-item">
    <image data-type="animegen_smf" data-typecn="素描风" data-index="7" bind:tap="style_select" class="selectpng {{selectedStyleIndex === 7 ? 'selected' : ''}}" src='./image/animegen_smf.jpg' alt="Upload Icon"></image>
  </view>
  <view class="select-item">
    <image data-type="bodysegment" data-typecn="人体识别" data-index="8" bind:tap="style_select" class="selectpng {{selectedStyleIndex === 8 ? 'selected' : ''}}" src='./image/bodysegment.jpg' alt="Upload Icon"></image>
  </view>
  <!-- <view style='width:200rpx;height: 100rpx;display: inline-block;background-color: red;'></view>
  <view style='width:200rpx;height: 100rpx;display: inline-block;background-color: blue;'></view>
  <view style='width:200rpx;height: 100rpx;display: inline-block;background-color: green;'></view>
  <view style='width:200rpx;height: 100rpx;display: inline-block;background-color: orange;'></view>
  <view style='width:200rpx;height: 100rpx;display: inline-block;background-color: yellow;'></view>
  <view style='width:200rpx;height: 100rpx;display: inline-block;background-color: black;'></view> -->
  </scroll-view>
  <view wx:if="{{imageSrc}}">
    <!-- <scroll-view  class="style-select"  scroll-x="true" >
    <view style='width:200rpx;height: 200rpx;display: inline-block;background-color: red;'></view>
    <view style='width:200rpx;height: 200rpx;display: inline-block;background-color: blue;'></view>
    <view style='width:200rpx;height: 200rpx;display: inline-block;background-color: green;'></view>
    <view style='width:200rpx;height: 200rpx;display: inline-block;background-color: orange;'></view>
    <view style='width:200rpx;height: 200rpx;display: inline-block;background-color: yellow;'></view>
    <view style='width:200rpx;height: 200rpx;display: inline-block;background-color: black;'></view>
    </scroll-view> -->
    <!-- <picker mode="selector" range="{{styles}}" bindchange="selectStyleChange">
      <view class="picker">
      样式: {{selectedStyleCN}}
      </view>
    </picker> -->
    <text class="showtype">样式：{{selectedStyleCN}}</text>
    <textarea placeholder="Enter text" bindinput="inputTextChange" class="input-text"></textarea>
    <button class="green-button" bindtap="applyText">Add Text</button>
    <button class="green-button" bindtap="always_test">测试</button>
    <canvas canvas-id="myCanvas" style="display:none;" width="{{canvasWidth}}" height="{{canvasHeight}}"></canvas>

  </view>
</view>
